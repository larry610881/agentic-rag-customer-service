"""
Kaggle ETL 種子資料 — mock 電商知識文件

建立 demo tenant + 3 個知識庫（商品資訊、FAQ、退換貨政策）+ 18 個 mock 文件。
透過 FakeEmbeddingService 產生向量，無需 OpenAI API key。

Usage:
    cd apps/backend
    uv run python ../../data/seeds/seed_knowledge.py
"""

import asyncio
import sys
from pathlib import Path

# Ensure backend src is on the path
backend_root = Path(__file__).resolve().parent.parent.parent / "apps" / "backend"
sys.path.insert(0, str(backend_root))

from src.domain.knowledge.entity import Document, KnowledgeBase  # noqa: E402
from src.domain.knowledge.value_objects import (  # noqa: E402
    DocumentId,
    KnowledgeBaseId,
)
from src.domain.tenant.entity import Tenant  # noqa: E402
from src.domain.tenant.value_objects import TenantId  # noqa: E402

# --- Mock 電商知識文件 ---
# 每份文件目標 1300-1800 字元，確保分塊後產生 3-4 chunks
# 18 docs x 3-4 chunks = 54-72 total (目標 50-100)

PRODUCT_DOCS = [
    {
        "filename": "wireless_earbuds.txt",
        "content": (
            "商品名稱：無線藍牙耳機 Pro X1\n"
            "價格：NT$1,299\n"
            "規格：藍牙 5.3、主動降噪 ANC、通話降噪、IPX5 防水\n"
            "電池續航：單次 8 小時，搭配充電盒總計 32 小時\n"
            "顏色：曜石黑、珍珠白、星空藍\n"
            "保固：一年原廠保固\n\n"
            "產品特色：\n"
            "採用 13mm 大動圈驅動單元，低音渾厚高音清亮。搭載最新"
            "高通 QCC3091 晶片，延遲低於 48ms，適合聽音樂、看影片"
            "和玩遊戲。觸控操作簡單直覺，雙擊左耳切歌、雙擊右耳"
            "播放暫停、長按左耳切換降噪模式、長按右耳喚醒語音助手。"
            "支援多點連接功能，可同時連接兩台裝置（如電腦和手機），"
            "接到來電時自動從電腦切換到手機，工作娛樂無縫切換。\n\n"
            "降噪技術詳細說明：\n"
            "三段式主動降噪——深度降噪模式適合飛機、捷運等高噪音"
            "環境，啟用後能有效降低 35dB 以上的環境噪音，讓你在"
            "吵雜環境中也能享受純淨的音樂。輕度降噪模式適合辦公室"
            "和咖啡廳，保留部分環境音讓你不會完全與外界隔絕，"
            "同時有效過濾空調嗡嗡聲和鍵盤敲擊聲。通透模式適合戶外"
            "散步和與人對話，透過外部麥克風將環境音自然混入耳機，"
            "就像沒戴耳機一樣可以清楚聽到周圍聲音。六麥克風陣列"
            "搭配 AI 通話降噪演算法，在通話時能智能分離人聲與背景"
            "雜音，即使在風速較強的戶外環境，對方也能清晰聽到你的"
            "聲音。風噪抑制技術專門針對室外場景優化。\n\n"
            "佩戴舒適度：\n"
            "單耳重量僅 4.8g，是同級產品中最輕巧的設計。隨附三種"
            "尺寸的矽膠耳套（S/M/L）和一組記憶海綿耳套，可依據"
            "個人耳道形狀選擇最舒適的配戴方式。記憶海綿耳套能自動"
            "貼合耳道，提供更好的被動降噪效果和穩固的佩戴感。"
            "人體工學的入耳角度設計經過上千名用戶測試調整，即使"
            "連續佩戴三小時以上也不會感到壓迫或疼痛。充電盒採用"
            "鵝卵石造型設計，放入口袋或小包輕巧便攜。\n\n"
            "配件內容：\n"
            "耳機主體 x2、充電盒 x1、USB-C 充電線 x1、矽膠耳套"
            "（S/M/L）x3 組、記憶海綿耳套 x1 組、說明書 x1。"
        ),
    },
    {
        "filename": "laptop_stand.txt",
        "content": (
            "商品名稱：鋁合金筆電支架 ErgoRise S3\n"
            "價格：NT$899\n"
            "材質：航空級鋁合金 6063-T5，陽極氧化處理\n"
            "適用：11-17.3 吋筆記型電腦\n"
            "高度調整：6 段可調（10-18 cm）\n"
            "承重：最高 15 公斤\n"
            "折疊厚度：2.5 cm\n"
            "重量：380g\n\n"
            "設計理念：\n"
            "符合人體工學的 15-35 度傾斜角度，將螢幕提升至與視線"
            "平齊的高度。根據職業醫學研究，長時間低頭看螢幕會導致"
            "頸椎前傾角度增加，造成頸部、肩膀和上背部的肌肉緊繃和"
            "疼痛。ErgoRise S3 將螢幕抬高到眼睛水平線下方 15-20 度"
            "的最佳觀看角度，有效減少頸部前傾角度。六段式高度調整"
            "讓不同身高的使用者都能找到最舒適的位置。底部全面覆蓋"
            "矽膠防滑墊，確保筆電在任何角度下都穩固不滑動，同時"
            "保護筆電底殼不被刮傷。\n\n"
            "散熱設計：\n"
            "大面積鏤空設計允許空氣自底部自然對流，實測可降低筆電"
            "底部溫度 5-10°C。在 MacBook Pro 16 吋的滿載壓力測試中"
            "（Cinebench R23 跑分），CPU 溫度從 98°C 降至 89°C，"
            "GPU 溫度從 96°C 降至 87°C。溫度降低意味著更少的降頻"
            "和更穩定的運算效能。鋁合金材質本身的導熱係數高達 "
            "160W/(m·K)，能快速將筆電傳導的熱量散發到空氣中。"
            "搭配外接散熱墊使用，散熱效果可進一步提升約 3-5°C。\n\n"
            "攜帶便利性：\n"
            "創新的折疊機構設計，免工具即可在 30 秒內完成展開或"
            "收納。折疊後厚度僅 2.5cm，重量只有 380g，比大多數"
            "平裝書還輕薄。附贈專屬灰色收納袋（採用防水尼龍材質），"
            "方便放入背包或行李箱。無論是咖啡廳辦公、圖書館自習"
            "或出差旅行，都能隨時搭建人體工學工作環境。\n\n"
            "細節特色：\n"
            "支架底部配備線材收納槽，可以將 USB-C 或電源線整齊"
            "收納在支架下方，保持桌面清爽整潔。陽極氧化表面處理"
            "提供卓越的耐磨耐腐蝕性能，長期使用依然光亮如新。"
            "提供太空灰和銀色兩種配色，與主流筆電外觀完美搭配。\n\n"
            "適用場景推薦：\n"
            "居家辦公搭配外接鍵盤和滑鼠使用效果最佳，長時間工作"
            "也不易疲勞。學生在圖書館自習可明顯改善低頭姿勢。"
            "經常出差的商務人士可在旅館快速搭建工作環境。"
        ),
    },
    {
        "filename": "mechanical_keyboard.txt",
        "content": (
            "商品名稱：機械鍵盤 TypeMaster K75\n"
            "價格：NT$2,499\n"
            "軸體：Gateron G Pro 3.0 紅軸 / 茶軸 / 青軸\n"
            "配列：75% 緊湊配列（84 鍵）\n"
            "連接：USB-C 有線 + 2.4GHz 無線 + 藍牙 5.1 三模\n"
            "背光：RGB 全鍵獨立燈效，16 種燈光模式\n"
            "電池：4000mAh，無線續航約 200 小時（關閉背光）\n\n"
            "鍵盤結構：\n"
            "採用 Gasket Mount 軟彈結構設計。在鍵盤外殼與內部 PCB "
            "板之間加入矽膠墊片作為緩衝，打字時提供柔韌的彈性回饋"
            "而非傳統金屬板的硬碰感。結合內建 IXPE 消音棉和底部 "
            "PORON 夾心棉三重消音設計，有效降低空腔迴音和金屬共振"
            "聲，帶來紮實溫潤的打字手感。PBT 雙色注塑鍵帽採用高溫"
            "模具一體成型，字符永不褪色。PBT 材質耐磨不打油，長期"
            "使用鍵帽表面依然清爽不黏膩。\n\n"
            "軸體比較與熱插拔：\n"
            "紅軸——線性手感無段落感，觸發力 45g，觸發行程 2.0mm，"
            "全行程 4.0mm，順滑的直上直下手感適合長時間遊戲和快速"
            "連續輸入。茶軸——輕微段落感，觸發力 55g，觸發行程 "
            "2.0mm，在按壓過程中有輕柔的觸覺回饋，是遊戲和打字"
            "兼顧的萬用選擇。青軸——明顯段落感加清脆聲響，觸發力 "
            "60g，觸發行程 2.3mm，每一次按壓都有滿足的「咔噠」回饋"
            "聲，是打字愛好者的首選。全部 84 顆按鍵均支援五腳熱插拔"
            "設計，使用附贈的拔軸器即可自行更換不同軸體，完全不需要"
            "焊接技術。混裝不同軸體是進階玩家的常見玩法。\n\n"
            "自定義與連接：\n"
            "完整支援 VIA 和 QMK 開源韌體，透過瀏覽器圖形化介面"
            "可自定義每一顆按鍵的功能映射、錄製巨集、設定多層 "
            "Layer 切換。2.4GHz 無線模式延遲低至 1ms，媲美有線連接"
            "的反應速度。藍牙 5.1 可同時記憶三台裝置，透過快捷鍵"
            "一鍵切換。內建 4000mAh 電池，開啟 RGB 背光續航約 "
            "60 小時，關閉背光續航可達 200 小時以上。\n\n"
            "包裝內容：\n"
            "鍵盤本體、USB-C 編織線（1.8m）、2.4GHz 接收器、"
            "拔鍵器、拔軸器、備用 Gateron 軸體 x3、防塵蓋、說明書。"
        ),
    },
    {
        "filename": "usb_hub.txt",
        "content": (
            "商品名稱：USB-C 多功能擴展塢 HubMax 8-in-1\n"
            "價格：NT$1,599\n"
            "接口：HDMI 4K@60Hz x1、USB-A 3.0 x2、USB-C 數據 x1、"
            "USB-C PD 100W 充電 x1、SD 卡槽 x1、TF 卡槽 x1、"
            "RJ45 千兆有線網路 x1\n"
            "相容：MacBook / iPad Pro / Surface / Windows 筆電\n\n"
            "核心晶片與散熱：\n"
            "採用 Intel JHL7440 Thunderbolt 控制晶片，以穩定性著稱"
            "的企業級方案。長時間連接多個周邊裝置也不會出現斷線、"
            "降速或供電不足的問題。CNC 一體成型鋁合金外殼提供大面積"
            "散熱表面，即使 8 個接口同時滿載使用，表面溫度也維持在"
            " 45°C 以下的安全範圍。底部矽膠墊防止在桌面滑動。\n\n"
            "影像輸出詳解：\n"
            "HDMI 2.0 接口支援 4K 60Hz 外接螢幕輸出，色彩深度 8bit"
            "覆蓋 99% sRGB 色域，影像清晰銳利適合設計師和攝影師。"
            "延伸模式下可將外接螢幕作為第二工作區域，鏡像模式則"
            "同步顯示筆電畫面適合簡報和教學。macOS 和 Windows 均"
            "免驅動即插即用。搭配 HDMI 2.0 以上規格線材可獲得最佳"
            "畫質，使用 HDMI 1.4 線材將降至 4K 30Hz。\n\n"
            "數據傳輸能力：\n"
            "USB-A 3.0 接口傳輸速率達 5Gbps，1GB 檔案傳輸約 2 秒"
            "完成。USB-C 數據接口同樣支援 5Gbps 速率，可連接外接 "
            "SSD 或新款手機進行高速傳輸。SD 和 TF 卡槽支援 UHS-I "
            "標準，最高讀取速率 104MB/s，攝影師外拍後可快速匯入"
            "數百張照片到筆電進行後製。兩個卡槽可同時使用不衝突。"
            "RJ45 千兆有線網路接口提供比 Wi-Fi 更穩定低延遲的網路"
            "連線，特別適合視訊會議和大型檔案傳輸下載場景。\n\n"
            "充電功能：\n"
            "USB-C PD 充電口支援最高 100W 直通充電（Pass-through），"
            "擴展塢本身消耗約 7-10W 供電，實際可為筆電提供約 "
            "90-93W 的充電功率。足以為 MacBook Pro 16 吋全速充電。"
            "建議搭配 100W 以上的 GaN 氮化鎵 PD 充電器使用。"
        ),
    },
    {
        "filename": "webcam.txt",
        "content": (
            "商品名稱：4K 網路攝影機 ClearView C900\n"
            "價格：NT$2,199\n"
            "解析度：4K UHD 30fps / 1080p Full HD 60fps\n"
            "視角：FOV 90° 廣角（可切換 78° / 65° 窄角）\n"
            "自動對焦：雙 AI 臉部追蹤自動對焦\n"
            "麥克風：雙陣列全向降噪麥克風\n"
            "隱私保護：實體隱私遮蓋（非軟體關閉）\n\n"
            "影像品質：\n"
            "搭載 1/2.8 吋 Sony STARVIS 背照式感光元件，進光量是"
            "一般網路攝影機的 2 倍以上。HDR 自動曝光補償技術讓你"
            "在窗戶逆光的環境下也能清晰呈現臉部細節，不會出現"
            "臉部過暗或背景過曝的問題。專屬低光源增強演算法在"
            "僅有螢幕光源的夜間環境中也能維持畫面明亮且雜訊極少，"
            "不需額外購買補光設備。4K 超高解析度搭配 f/2.0 大光圈"
            "鏡頭，在 27 吋以上的大螢幕上觀看也不會出現模糊或"
            "馬賽克現象。\n\n"
            "AI 智能功能：\n"
            "雙 AI 臉部追蹤對焦在會議過程中即使你起身移動、伸展"
            "或調整坐姿，鏡頭都能自動平滑地追蹤你的臉部保持精準"
            "對焦。內建 AI 美顏演算法提供自然不失真的膚色優化，"
            "消除疲倦感但不會像濾鏡那樣不自然。虛擬背景模糊功能"
            "使用邊緣偵測 AI 模型精準分離人物和背景，即使不穿綠幕"
            "也能呈現乾淨的背景虛化效果，營造專業的視訊會議形象。"
            "支援 Windows Hello 臉部辨識登入系統。\n\n"
            "麥克風與收音：\n"
            "雙陣列全向降噪麥克風採用波束成形技術，精準收取正前方"
            "語音同時抑制側面和後方背景噪音。有效收音距離可達 4 "
            "公尺，即使你離攝影機較遠也能清晰收音。數位降噪處理"
            "能過濾鍵盤敲擊聲、風扇聲和空調背景噪音。\n\n"
            "安裝與相容：\n"
            "萬用夾式底座適配 1mm 至 50mm 厚度的螢幕邊框。也可"
            "使用標準 1/4 吋螺紋安裝在三腳架或螢幕支臂上。隨插"
            "即用相容 Zoom、Teams、Meet、OBS 等主流軟體。內附 "
            "1.5m USB-C 線和 USB-A 轉接頭。\n\n"
            "推薦搭配：\n"
            "搭配本店 ErgoRise S3 筆電支架使用，螢幕和攝影機同時"
            "抬升至最佳高度，視訊會議時的拍攝角度更自然。"
            "搭配環形補光燈可進一步提升直播和教學影像品質。"
        ),
    },
    {
        "filename": "wireless_charger.txt",
        "content": (
            "商品名稱：三合一無線充電座 ChargePad Pro\n"
            "價格：NT$1,899\n"
            "充電功率：手機 15W / AirPods 5W / Apple Watch 5W\n"
            "相容標準：Qi 國際無線充電標準認證\n"
            "適用裝置：iPhone 12 以上、Samsung Galaxy S21 以上、"
            "Google Pixel 6 以上，及其他支援 Qi 標準的裝置\n"
            "安全認證：NCC / BSMI / FCC / CE\n\n"
            "三合一充電設計：\n"
            "一個充電座即可同時為手機、無線耳機和智慧手錶充電，桌面"
            "只需一條電源線就能滿足所有裝置的充電需求。手機充電區"
            "採用 MagSafe 相容的磁吸對位設計，iPhone 12 以上機型"
            "放上即自動精準對位開始充電，無需反覆調整位置尋找甜蜜點。"
            "Samsung 和其他品牌手機也可透過選配的磁吸對位貼片實現"
            "同樣的精準對位體驗。手錶充電區內凹設計，Apple Watch "
            "和 Samsung Galaxy Watch 都能穩固放置。\n\n"
            "五重安全保護系統：\n"
            "溫度保護——內建 NTC 溫度感測器，偵測到異常高溫（超過 "
            "40°C）立即自動降功率或斷電保護。過充保護——電池充滿後"
            "自動停止供電，避免電池過充造成壽命衰減。過壓保護——"
            "內建穩壓電路防止電網電壓波動對裝置造成損害。異物偵測"
            "（FOD）——發現金屬異物（如硬幣、鑰匙、迴紋針）時自動"
            "停止供電，避免金屬發熱引發危險。短路保護——電路異常時"
            "瞬間切斷電源確保安全。所有保護機制均通過國際安全認證。\n\n"
            "充電速度與注意事項：\n"
            "iPhone 15 Pro 從 0% 到 50% 約 45 分鐘，完整充滿約 "
            "2.5 小時。Samsung Galaxy S24 Ultra 從 0% 到 50% 約 "
            "40 分鐘完整充滿約 2 小時。AirPods Pro 2 完整充滿約 "
            "90 分鐘。Apple Watch S9 從 0% 到 80% 約 45 分鐘。"
            "手機殼厚度超過 5mm 可能影響充電效率，建議使用 3mm "
            "以內的殼。金屬手機殼不支援無線充電。建議搭配 QC 3.0 "
            "或 PD 20W 以上充電器使用（包裝僅附 USB-C 線）。\n\n"
            "LED 指示燈說明：\n"
            "充電中顯示白色呼吸燈，充滿後燈光熄滅。夜間自動調暗"
            "模式不影響睡眠品質。異常狀態會閃紅燈提示。"
        ),
    },
    {
        "filename": "portable_monitor.txt",
        "content": (
            "商品名稱：15.6 吋攜帶型螢幕 FlexScreen P156\n"
            "價格：NT$4,999\n"
            "面板：15.6 吋 IPS，解析度 1920x1080 Full HD\n"
            "色域：100% sRGB / 75% DCI-P3\n"
            "亮度：300 nits（自動調節）\n"
            "對比度：1200:1\n"
            "重量：680g（含磁吸保護蓋 850g）\n"
            "厚度：8.5mm\n\n"
            "連接方式：\n"
            "USB-C 一線直連模式是最方便的使用方式，一條線同時傳輸"
            "影像訊號和供電，完全不需要額外的電源線或變壓器。"
            "相容 USB-C 具備 DP Alt Mode 的筆電和平板電腦，包含 "
            "MacBook Air/Pro、iPad Pro/Air、Surface Pro、ThinkPad "
            "X1 等機種。也支援 mini HDMI 輸入，搭配 USB-C 供電線"
            "即可連接 Nintendo Switch、PlayStation 5、Xbox 等遊戲"
            "主機。部分支援 Samsung DeX 和華為桌面模式的手機也能"
            "直接連接，瞬間將手機變成桌面工作站。\n\n"
            "顯示品質：\n"
            "IPS 面板提供 178 度超廣視角，從任何角度觀看畫面都不會"
            "色偏或亮度衰減。100% sRGB 色域覆蓋讓色彩呈現準確自然"
            "適合平面設計師外出時的色彩校對工作。300 nits 亮度在"
            "室內環境下清晰明亮，搭配抗眩光霧面表面處理，辦公室的"
            "日光燈和窗戶光線不會造成明顯反光干擾。護眼低藍光模式"
            "可將藍光輸出降低至 TUV 認證安全範圍，長時間工作更舒適"
            "不傷眼。支援 HDR 內容播放（需影片來源支援 HDR10）。\n\n"
            "攜帶與安裝：\n"
            "8.5mm 超薄機身搭配 680g 輕量設計，比 iPad Air 更薄更"
            "輕。磁吸式保護蓋平時保護螢幕表面不被刮傷或壓損，使用"
            "時翻轉即變成可無段調節角度的支架，最大支撐角度 120 度"
            "完全不需要額外攜帶支撐配件。內建 1W 雙喇叭可以直接"
            "播放影片音效，也提供 3.5mm 耳機輸出孔連接外部音響。\n\n"
            "隨附配件：\n"
            "USB-C to USB-C 全功能線 x1、USB-C to USB-A 供電線 x1"
            "、mini HDMI to HDMI 線 x1、磁吸保護蓋 x1、擦拭布 x1"
            "、說明書 x1。\n\n"
            "使用建議：\n"
            "外出辦公時建議用 USB-C 一線直連最方便。接遊戲主機時"
            "建議使用 HDMI 連接以獲得最穩定的影像和音訊輸出。"
            "初次使用請先更新螢幕韌體以獲得最佳色彩校準。"
        ),
    },
    {
        "filename": "smart_speaker.txt",
        "content": (
            "商品名稱：智慧音箱 SoundHome S5\n"
            "價格：NT$3,299\n"
            "喇叭：全頻 3 吋驅動單元 + 被動低音振膜\n"
            "功率：20W RMS（峰值 30W）\n"
            "連接：Wi-Fi 6 + 藍牙 5.2 + AUX 3.5mm\n"
            "語音助手：Google Assistant / Amazon Alexa 雙支援\n"
            "智慧協議：Matter / Thread / Zigbee\n\n"
            "音質表現：\n"
            "採用 360 度環繞出音設計，無論音箱放在房間的哪個位置，"
            "任何角落都能享受均衡飽滿的音質而不會有明顯的指向性偏差。"
            "3 吋全頻驅動單體搭配底部被動低音振膜，低頻下探至 "
            "50Hz，厚實有力而不轟耳。中頻人聲溫暖貼耳，高頻延伸"
            "至 20kHz 清亮通透細節豐富。20W RMS 輸出功率在 20 坪"
            "以內的空間都能提供充沛的音量。支援 Dolby Audio 解碼，"
            "播放 Netflix 和 Disney+ 等串流平台的 Dolby 內容時"
            "能呈現更立體沉浸的音場效果。\n\n"
            "串流音樂與連接：\n"
            "原生支援 Spotify Connect、Apple AirPlay 2 和 Google "
            "Chromecast 音訊，手機或電腦上直接點選即可投放音樂到"
            "音箱播放，延遲極低操作流暢。Wi-Fi 6 連線提供比藍牙"
            "更高的音訊品質，支援 24bit/96kHz Hi-Res 高解析音樂"
            "串流。藍牙 5.2 連線則適合快速配對和訪客臨時使用的"
            "場景。3.5mm AUX 輸入孔也可以用傳統有線方式連接。\n\n"
            "智慧家庭與語音控制：\n"
            "同時支援 Google Assistant 和 Amazon Alexa 雙語音助手，"
            "可依個人偏好選擇使用哪一個。透過語音指令即可控制智慧"
            "燈泡亮度和色溫、空調溫度、掃地機器人清掃、電動窗簾"
            "開合等數百種 IoT 裝置。完整支援 Matter 和 Thread "
            "協議，相容 Apple HomeKit、Google Home 和 Samsung "
            "SmartThings 等主流生態系統。設定例行程序後一句「早安」"
            "就能同時開燈、播報天氣、啟動咖啡機和播放晨間音樂。\n\n"
            "多房間音響：\n"
            "購買多顆 SoundHome S5 可透過 Wi-Fi 組成全家多房間"
            "音響系統。每個房間同步播放相同曲目或各房獨立播放不同"
            "音樂。兩顆配對組成立體聲左右聲道後，音場寬度和定位感"
            "大幅提升，看電影時的環繞感顯著升級。"
        ),
    },
]

FAQ_DOCS = [
    {
        "filename": "shipping_faq.txt",
        "content": (
            "常見問題：運費與配送\n\n"
            "Q1: 運費怎麼計算？\n"
            "A: 台灣本島訂單滿 NT$999 免運費。未滿 NT$999 收取 "
            "NT$60 運費。外島地區（金門、馬祖、澎湖、綠島、蘭嶼）"
            "一律 NT$100 運費，滿 NT$1,500 免運。國際配送費用依據"
            "包裹重量和目的地國家計算，結帳時系統會自動計算顯示。"
            "目前支援國際配送的國家有日本、韓國、新加坡、馬來西亞"
            "和香港，其他國家和地區暫時不支援直接配送。\n\n"
            "Q2: 可以選擇哪些配送方式？\n"
            "A: 台灣本島提供以下配送方式：黑貓宅急便到府配送（可指定"
            "上午 09:00-12:00 或下午 14:00-18:00 配送時段）、超商"
            "取貨（支援 7-11、全家、萊爾富三大超商，單件包裹限重 "
            "5 公斤且最長邊不超過 45 公分）、中華郵政掛號（平信或"
            "限時掛號寄送）。企業大量訂購可聯繫業務窗口安排專人配送"
            "和客製化物流方案。\n\n"
            "Q3: 配送需要幾天？到貨時間？\n"
            "A: 台灣本島黑貓宅急便一般 1-2 個工作天到貨，偏遠山區"
            "可能需加 1-2 天。超商取貨約 2-4 個工作天到達指定門市。"
            "外島地區宅配 3-7 個工作天。郵局掛號 2-5 個工作天。"
            "雙北地區提供急件當日到服務，加收 NT$150，須於中午 "
            "12:00 前下單並完成付款，保證當日 18:00 前送達。\n\n"
            "Q4: 配送時家中無人怎麼辦？\n"
            "A: 黑貓宅急便會留下未送達通知單，消費者可撥打通知單上"
            "的電話安排再次配送時間。三次配送均無人簽收的包裹將退回"
            "出貨倉庫，系統會通知消費者安排重新寄送（可能需負擔再次"
            "配送的運費）。超商取貨到貨後系統發送取貨通知簡訊，"
            "包裹在門市保管 7 天，逾期未取會退回並由系統通知。\n\n"
            "Q5: 包裹追蹤方式？\n"
            "A: 商品出貨後系統會發送簡訊和 Email 通知，內含物流追蹤"
            "編號和一鍵查詢連結。也可以隨時登入會員中心「我的訂單」"
            "頁面查看即時物流狀態和預計送達時間。加入官方 LINE 帳號"
            "可以接收即時推播通知更方便掌握進度。\n\n"
            "Q6: 國際配送的關稅由誰負擔？\n"
            "A: 國際配送的進口關稅和稅金依目的地國家法規由收件人"
            "負擔。實際稅額以當地海關核定為準。"
        ),
    },
    {
        "filename": "payment_faq.txt",
        "content": (
            "常見問題：付款方式\n\n"
            "Q1: 支援哪些付款方式？\n"
            "A: 本平台提供多元付款選項：信用卡（Visa、MasterCard、"
            "JCB、AMEX 四大國際發卡組織）、行動支付（LINE Pay、"
            "Apple Pay、Google Pay、Samsung Pay）、銀行轉帳 ATM"
            "（系統產生專屬虛擬帳號，有效期限 3 天）、超商代碼繳費"
            "（產生繳費代碼，可至 7-11、全家、萊爾富、OK 超商繳款"
            "有效期限 3 天）、貨到付款（限黑貓宅配，加收 NT$30 "
            "代收手續費，超商取貨不適用）。\n\n"
            "Q2: 可以分期付款嗎？\n"
            "A: 訂單金額滿 NT$3,000 即可選擇分期付款。指定合作銀行"
            "（中國信託、國泰世華、玉山銀行、台新銀行、富邦銀行）"
            "享 3 期、6 期、12 期零利率分期。非指定銀行的信用卡可"
            "選擇 3 期或 6 期分期，分期利息由發卡銀行收取（利率依"
            "各銀行規定）。全部銀行信用卡均可選擇 24 期分期，但需"
            "加收訂單金額 1.5% 的分期手續費。分期付款僅限信用卡"
            "支付，其他付款方式無法選擇分期。\n\n"
            "Q3: 付款成功後多久會出貨？\n"
            "A: 信用卡和行動支付（LINE Pay 等）付款即時確認，確認後"
            " 24 小時內安排出貨（不含週末和國定假日）。ATM 銀行轉帳"
            "以實際入帳時間為準，通常即時入帳，假日匯款可能延至下一"
            "個工作日。超商繳費確認入帳後 24 小時內出貨。貨到付款"
            "訂單確認後 24 小時內出貨。庫存不足時會另行通知。\n\n"
            "Q4: 發票開立說明？\n"
            "A: 預設開立電子發票，載具為會員註冊手機號碼或自然人"
            "憑證條碼。如需公司統編發票，結帳時填寫公司抬頭和統一"
            "編號即可開立電子三聯式發票。如果需要紙本發票請結帳時"
            "勾選，會加收 NT$10 郵寄費約 5 個工作天寄達。\n\n"
            "Q5: 付款失敗或異常怎麼處理？\n"
            "A: 信用卡付款失敗常見原因：卡號或安全碼輸入錯誤、信用"
            "額度不足、銀行端網路交易限額需要調高。建議確認卡片資訊"
            "後重試或聯繫發卡銀行。ATM 虛擬帳號逾期（超過 3 天）"
            "需重新下單取得新帳號。重複扣款等異常請聯繫客服處理。\n\n"
            "Q6: 退款時分期付款怎麼處理？\n"
            "A: 分期訂單退款會通知銀行取消分期，已扣款期數會退回"
            "信用卡帳戶。實際退款時間視發卡銀行作業約 1-2 個帳單週期。"
        ),
    },
    {
        "filename": "membership_faq.txt",
        "content": (
            "常見問題：會員制度\n\n"
            "Q1: 如何註冊成為會員？\n"
            "A: 使用 Email 或手機號碼即可免費註冊成為一般會員。也"
            "支援 Google、Facebook、LINE 帳號快速註冊。新會員註冊"
            "完成立即獲得 NT$100 折扣券一張（訂單滿 NT$500 可使用"
            "有效期 30 天）。首次下單再加送 NT$50 折扣券。\n\n"
            "Q2: 會員等級制度說明？\n"
            "A: 本平台採用四級會員制度，依年度消費金額自動升級。"
            "一般會員：免費註冊即為一般會員。銀卡會員：年度消費累計"
            "達 NT$5,000 自動升級。金卡會員：年度消費累計達 "
            "NT$20,000 自動升級。白金會員：年度消費累計達 NT$50,000 "
            "自動升級。等級計算期間為每年 1 月 1 日至 12 月 31 日，"
            "升級後立即生效並維持至隔年底的等級重新計算。\n\n"
            "Q3: 各等級會員享有的優惠？\n"
            "A: 一般會員——消費 1% 回饋金、不定期活動折扣。銀卡"
            "會員——消費 3% 回饋金、每月一張免運券、生日當月 1.5 倍"
            "回饋。金卡會員——消費 5% 回饋金、每月兩張免運券、生日"
            "當月雙倍回饋、新品優先通知。白金會員——消費 8% 回饋金、"
            "全年無限免運、生日當月三倍回饋、專屬客服優先接線（不需"
            "排隊）、新品預購優先權、年度 VIP 禮盒（市值約 NT$2,000"
            " 的精選商品組合）。\n\n"
            "Q4: 回饋金使用規則？\n"
            "A: 1 點回饋金 = NT$1 折抵。消費後 3 天入帳可用，在結帳"
            "頁面選擇使用即可折抵訂單金額，無最低折抵限制。回饋金"
            "有效期為獲得日起 12 個月，過期自動清零。回饋金不可兌換"
            "現金、不可轉讓、不可用於購買禮品卡。退貨時已使用的"
            "回饋金會退回帳戶（有效期不變）。\n\n"
            "Q5: 會員等級會降級嗎？\n"
            "A: 會。每年 1 月 1 日依前一年度消費總額重新計算等級。"
            "如前一年消費未達維持門檻即降至對應等級。降級後已累積"
            "的回饋金餘額仍可繼續使用不受影響。\n\n"
            "Q6: 推薦好友有獎勵嗎？\n"
            "A: 有，會員中心可取得專屬推薦碼。好友使用推薦碼完成"
            "首購後，推薦人和被推薦人各獲得 NT$100 回饋金。"
            "每位會員每月最多推薦 10 位好友。"
        ),
    },
    {
        "filename": "order_tracking_faq.txt",
        "content": (
            "常見問題：訂單管理\n\n"
            "Q1: 訂單狀態有哪些？如何查看？\n"
            "A: 登入會員中心點選「我的訂單」查看所有訂單。訂單狀態"
            "說明：「待付款」尚未完成付款需盡快處理、「待出貨」已"
            "付款等待倉庫揀貨出貨、「已出貨」商品已交付物流配送中、"
            "「配送中」物流公司正在配送途中、「已送達」已簽收完成"
            "配送、「已完成」訂單流程全部結束（簽收 7 天後自動確認）。"
            "出貨後的物流追蹤編號和一鍵查詢連結會透過簡訊和 Email "
            "同步通知。\n\n"
            "Q2: 訂單取消規則？\n"
            "A: 訂單狀態為「待付款」或「待出貨」時，可在會員中心"
            "自行點選取消按鈕立即取消。「已出貨」之後的訂單無法直接"
            "取消，需等收到商品後走退貨流程。取消後退款處理：信用卡"
            "退刷約 7-14 個工作天（視發卡銀行作業）、ATM 退款約 "
            "3-5 個工作天退回原帳戶、超商付款退款約 14 個工作天、"
            "行動支付（LINE Pay 等）約 3-7 個工作天退回原錢包。\n\n"
            "Q3: 可以修改訂單內容嗎？\n"
            "A: 訂單尚未出貨前，可聯繫客服修改以下項目：收件地址、"
            "收件人姓名和電話、商品數量（減少）。已出貨訂單無法修改"
            "任何資訊，需收到後辦理換貨。商品款式或顏色不支援直接"
            "修改，需取消原訂單重新購買。新增商品也需另外下新訂單。\n\n"
            "Q4: 訂單延遲出貨的可能原因？\n"
            "A: 常見原因包含：一、ATM 轉帳或超商繳費尚未入帳，請"
            "確認是否已完成付款。二、訂購商品暫時缺貨，系統會發送"
            "缺貨通知信件告知預計到貨時間。三、訂單收件資訊不完整"
            "（如地址不齊全、聯絡電話錯誤），客服會主動聯繫確認。"
            "如超過 3 個工作天未出貨且未收到任何通知，請聯繫客服。\n\n"
            "Q5: 收到瑕疵或錯誤商品怎麼辦？\n"
            "A: 請立即拍照存證（商品外觀、包裝、出貨單）並聯繫客服。"
            "瑕疵品可免費換貨或全額退款，本公司負擔來回運費。"
            "出貨錯誤（品項或規格不對）同樣免費更換正確商品。"
            "處理期間約 3-5 個工作天。請保留完整包裝以利處理。\n\n"
            "Q6: 可以合併多筆訂單一起出貨嗎？\n"
            "A: 目前系統不支援自動合併訂單。如有合併出貨需求，"
            "請在下單前聯繫客服協助處理。已出貨的訂單無法合併。"
        ),
    },
    {
        "filename": "account_faq.txt",
        "content": (
            "常見問題：帳號與安全設定\n\n"
            "Q1: 忘記密碼如何重設？\n"
            "A: 登入頁面點擊「忘記密碼」連結後輸入註冊 Email 信箱，"
            "系統會寄送密碼重設連結。連結有效期限為 30 分鐘，過期後"
            "需重新申請。重設後的新密碼須包含至少 8 個字元、包含大小"
            "寫英文字母和數字。如果一直未收到重設信件，請先檢查垃圾"
            "郵件匣和促銷信件匣，確認 Email 地址無誤。仍然無法收到"
            "請聯繫客服，提供身分證件驗證後由客服協助重設。\n\n"
            "Q2: 社群帳號登入說明？\n"
            "A: 支援 Google、Facebook、Apple ID 和 LINE 四種社群快速"
            "登入。首次使用社群登入時系統自動建立關聯會員帳號，使用"
            "社群帳號的 Email 和名稱建立會員資料。下次直接點選對應"
            "社群按鈕即可登入不需要另外記密碼。一個會員帳號可同時"
            "綁定多個不同的社群登入方式（例如同時綁定 Google 和 "
            "LINE），從任何一個都能登入同一個帳號。\n\n"
            "Q3: 個人資料與收件地址管理？\n"
            "A: 會員中心「帳號設定」可修改密碼、Email 和手機號碼。"
            "修改 Email 需通過新信箱的驗證碼確認，修改手機號碼需"
            "通過新號碼的簡訊驗證碼確認。「收件地址簿」可儲存最多 "
            "5 組常用收件地址，結帳時快速選擇。地址簿中可設定一組"
            "為預設地址，每次結帳自動帶入。\n\n"
            "Q4: 兩步驟驗證（2FA）設定方式？\n"
            "A: 會員中心 > 安全設定 > 啟用兩步驟驗證。提供兩種驗證"
            "方式可選：簡訊驗證碼（每次登入發送 6 位數驗證碼至手機）"
            "和 TOTP 應用程式（如 Google Authenticator 產生動態驗證碼）。"
            "建議使用 TOTP 方式，比簡訊更安全且不受手機訊號影響。"
            "啟用 2FA 後務必妥善保管系統提供的備份恢復碼（共 8 組），"
            "以防手機遺失時仍可登入帳號。\n\n"
            "Q5: 帳號刪除申請？\n"
            "A: 聯繫客服申請帳號刪除，需提供身分證件驗證確認本人。"
            "處理時間約 5-7 個工作天。帳號刪除後所有個人資料、"
            "回饋金餘額和訂單紀錄將永久刪除且完全無法復原。"
            "進行中的訂單必須先完成或取消才能申請刪除帳號。\n\n"
            "Q6: 帳號被鎖定怎麼辦？\n"
            "A: 連續輸入錯誤密碼 5 次後帳號會暫時鎖定 30 分鐘。"
            "鎖定期間無法登入也無法重設密碼。等待 30 分鐘後自動"
            "解鎖即可正常登入。如多次鎖定請聯繫客服確認帳號安全。"
        ),
    },
    {
        "filename": "product_inquiry_faq.txt",
        "content": (
            "常見問題：商品諮詢與選購建議\n\n"
            "Q1: 商品照片和實物有色差怎麼辦？\n"
            "A: 所有商品照片皆為實物拍攝並經過專業色彩校準，但由於"
            "每台螢幕的面板類型和顯色設定不同（例如 TN 面板和 IPS "
            "面板的色溫差異），可能會感受到輕微色差。尤其白色、銀色"
            "和淺色系商品較容易因螢幕差異產生色差感受。如收到商品後"
            "認為顏色差異過大無法接受，可於簽收後 7 天內依消費者"
            "保護法申請退換貨，因色差退貨的來回運費由本公司負擔。\n\n"
            "Q2: 如何確認商品與我的裝置是否相容？\n"
            "A: 每個商品頁面的「規格」區塊詳列完整相容性清單和系統"
            "需求。如果清單中未列出您的裝置型號，可透過以下管道確認："
            "一、網頁右下角的線上即時客服（平均回覆時間 1-3 分鐘）。"
            "二、寄送 Email 至 support@example.com 並附上您的裝置型號"
            "和作業系統版本，24 小時內回覆。三、撥打客服專線 "
            "0800-123-456（服務時間：週一至週五 09:00-18:00）。\n\n"
            "Q3: 缺貨商品可以預訂或登記到貨通知嗎？\n"
            "A: 暫時缺貨的商品頁面會顯示「到貨通知我」按鈕。點擊後"
            "選擇通知方式（Email 或簡訊），補貨後系統會在第一時間"
            "自動發送通知。請注意到貨通知僅為提醒服務，不保證一定能"
            "購買到，熱門商品仍以實際下單付款順序為準。部分商品支援"
            "預購，頁面上會明確標示預計到貨日期和預購優惠價格，"
            "預購款項在下單時即收取，到貨後優先出貨給預購客戶。\n\n"
            "Q4: 商品客製化服務說明？\n"
            "A: 標示「支援客製化」的商品提供以下客製選項：雷射刻字"
            "（限英文字母、數字和基本符號，最多 20 字元，刻字位置"
            "和字型依商品而異）、精美禮盒包裝（加收 NT$150，含緞帶"
            "和賀卡代寫服務）。客製選項在結帳頁面勾選後填寫內容即可。"
            "重要提醒：客製化商品因個人化性質，不適用七天鑑賞期退換貨"
            "政策，請在下單前仔細確認客製內容。客製商品製作約 2-3 個"
            "工作天，出貨時間會比一般商品稍長。\n\n"
            "Q5: 大量採購或企業採購有優惠嗎？\n"
            "A: 單次訂購 10 件以上同款商品可享企業批量折扣。"
            "請聯繫業務窗口 business@example.com 取得報價單。"
            "企業客戶另享專屬付款條件和發票開立服務。"
        ),
    },
]

POLICY_DOCS = [
    {
        "filename": "return_policy.txt",
        "content": (
            "退換貨政策\n\n"
            "一、退貨規定\n"
            "依據消費者保護法第 19 條規定，通訊交易的消費者得於收受"
            "商品後七日內（含例假日），無須說明理由即可退回商品。"
            "退貨商品必須為全新未使用狀態，或拆封後不影響商品再銷售"
            "價值。退貨時須保留完整原始包裝、所有隨附配件、贈品，"
            "以及購買憑證（電子發票或紙本出貨單）。如缺少配件或贈品"
            "會依比例扣除費用。\n\n"
            "退貨運費處理方式：因商品本身瑕疵、出貨錯誤或商品描述"
            "與實物不符等賣方原因導致的退貨，來回運費由本公司全額"
            "負擔。因消費者個人因素（如改變心意、規格不符預期、"
            "與想像不同等）退貨，需由消費者自行負擔退貨運費 NT$60。\n\n"
            "二、換貨規定\n"
            "收到商品後七日內可申請換貨。換貨以相同商品的不同規格"
            "為限，例如更換顏色或尺寸。如需更換為完全不同的商品，"
            "請先辦理退貨退款後再重新下單購買。瑕疵品換貨免運費，"
            "客服確認問題後會優先處理，三個工作天內寄出替換商品。"
            "一般換貨（非瑕疵）的寄回運費由消費者負擔，寄出運費"
            "由本公司負擔。\n\n"
            "三、不適用退換貨的商品類別\n"
            "以下商品依法或依商品性質不適用七天鑑賞期退換貨：已拆封"
            "的個人衛生用品（入耳式耳機矽膠耳套、耳塞等直接接觸"
            "身體的配件）、客製化商品（雷射刻字、特殊包裝等依消費者"
            "要求製作的個人化商品）、已使用超過 50% 的消耗品、已啟用"
            "序號的數位商品（軟體授權碼、遊戲序號等）、已拆封或超過"
            "保存期限的食品類商品、已開封且影響衛生安全的密封包裝。\n\n"
            "四、退款方式與時程\n"
            "退款一律透過原付款管道退還。信用卡退刷約 7-14 個工作天"
            "（實際入帳時間視發卡銀行作業而定，部分銀行可能顯示在"
            "下一期帳單）。ATM 銀行轉帳退款約 3-5 個工作天退回至"
            "原匯款帳戶。超商代碼付款退款約 14 個工作天。貨到付款"
            "以銀行匯款方式退還，需消費者提供銀行帳號資訊。\n\n"
            "五、退換貨申請步驟\n"
            "步驟一：登入會員中心 > 我的訂單 > 選擇要退換的商品\n"
            "步驟二：點選「申請退換貨」選擇退貨或換貨\n"
            "步驟三：填寫原因說明並上傳商品現況照片\n"
            "步驟四：客服團隊審核（1 個工作天內回覆結果）\n"
            "步驟五：審核通過後安排黑貓到府取件或提供寄回地址\n"
            "步驟六：本公司收到退貨商品確認無誤後 3 天內辦理退款\n\n"
            "六、特殊退貨情況\n"
            "到貨時外包裝明顯破損，請當面拒收並拍照回報客服，"
            "我們會立即安排重新出貨。活動贈品需連同主商品一併退回。"
        ),
    },
    {
        "filename": "warranty_policy.txt",
        "content": (
            "保固政策\n\n"
            "一、保固期間與延長保固\n"
            "所有販售商品均享有一年原廠保固，保固起算日為商品簽收日。"
            "電子類商品可在購買時選擇加購延長保固方案：延長一年加收 "
            "NT$299、延長兩年加收 NT$499。延長保固必須在購買商品時"
            "同步加購，事後無法單獨購買。保固期間內因保固範圍內的"
            "故障所產生的維修費用和來回運費均由本公司全額負擔。\n\n"
            "二、保固範圍（可免費維修或更換）\n"
            "以下情況屬於保固範圍：正常使用情況下發生的功能性故障"
            "（如無法開機、無法充電、連線異常斷線等）。製造過程中"
            "的缺陷或原物料瑕疵。電子產品的電池效能衰退至原始容量 "
            "80% 以下（需經原廠授權服務中心進行專業檢測確認）。"
            "保固期內零件在正常使用下發生的自然損壞，包含但不限於"
            "按鍵失靈、充電接口鬆動、螢幕出現超過 3 個亮點等。\n\n"
            "三、不在保固範圍（維修須另外付費）\n"
            "以下情況不屬於免費保固範圍：人為造成的損壞，包含摔落、"
            "進水浸泡、私自拆解、過度彎折、使用非原廠配件充電或連接"
            "導致的損壞。天然災害造成的損壞如地震、水災、雷擊、電力"
            "異常等不可抗力因素。未經本公司授權的第三方維修商進行的"
            "維修或改裝。不影響正常功能使用的外觀磨損如外殼刮痕、"
            "表面褪色。配件與消耗品如充電線、矽膠耳套、鍵帽等正常"
            "損耗品（電池效能在 80% 以上的正常衰減亦屬此類）。\n\n"
            "四、維修送修流程\n"
            "步驟一：聯繫客服取得 RMA 維修編號。線上客服即時申請，"
            "或撥打免付費專線 0800-123-456（週一至週五 09-18）。\n"
            "步驟二：妥善包裝商品避免運送損壞，隨附 RMA 編號和故障"
            "描述，寄送至指定維修中心地址（地址會在 RMA 郵件中提供）。\n"
            "步驟三：維修中心檢測與維修，標準處理時間 7-14 個工作天。\n"
            "步驟四：維修完成後以黑貓宅急便免費寄回。\n"
            "步驟五：若判定不在保固範圍，會先提供維修報價單，經消費者"
            "同意後才進行付費維修。不同意維修則免費寄回原機。\n\n"
            "五、保固狀態查詢\n"
            "會員中心 > 保固查詢，輸入商品序號查詢保固到期日。"
            "也可掃描商品外盒上的 QR Code 快速查詢。"
        ),
    },
    {
        "filename": "privacy_policy.txt",
        "content": (
            "隱私權政策\n\n"
            "一、個人資料蒐集範圍\n"
            "本公司依據個人資料保護法蒐集提供服務所必要的個人資料。"
            "基本會員資料包含：姓名、電子信箱、手機號碼、配送地址。"
            "交易相關資料包含：訂單紀錄、付款資訊（信用卡資訊由第三"
            "方金流平台——綠界科技和藍新金流——加密處理，本公司伺服器"
            "不儲存任何完整信用卡號碼）。網站使用行為資料包含：IP "
            "位址、裝置類型和作業系統、瀏覽頁面紀錄和停留時間、搜尋"
            "關鍵字。這些行為資料僅以匿名化方式用於改善網站使用體驗"
            "和個人化商品推薦。\n\n"
            "二、個人資料使用方式\n"
            "您的個人資料僅使用於以下明確用途：訂單處理和交易確認、"
            "商品配送和物流追蹤通知、客服聯繫和售後問題處理、會員"
            "權益管理和回饋金計算、消費行為分析和個人化推薦（匿名化"
            "處理）。行銷推播訊息（如促銷活動、新品上市通知）僅在"
            "您於會員中心明確勾選同意後才會發送，且您可隨時取消訂閱。"
            "我們絕對不會將您的個人資料出售、出租或以任何形式提供給"
            "與服務無關的第三方。合作夥伴（物流公司、金流服務商）"
            "僅接收完成服務所需的最少必要資訊。\n\n"
            "三、資料安全防護措施\n"
            "所有個人資料採用 AES-256 加密標準儲存，資料庫伺服器"
            "位於通過 ISO 27001 和 SOC 2 Type II 認證的台灣資料"
            "中心。所有資料傳輸過程使用 TLS 1.3 最新加密協議。"
            "公司每季進行一次內部資安稽核，每年委託第三方資安公司"
            "執行滲透測試和弱點掃描。員工存取個人資料需經過多層"
            "授權審核，所有存取行為均記錄完整的稽核日誌。\n\n"
            "四、Cookie 使用政策\n"
            "本網站使用三類 Cookie：必要型 Cookie 維持登入狀態和"
            "購物車內容和 CSRF 安全驗證（無法關閉）。分析型 Cookie "
            "使用 Google Analytics 4 進行匿名流量分析和使用者行為"
            "研究（可在 Cookie 偏好中退出）。行銷型 Cookie 用於"
            "Google Ads 和 Meta 廣告追蹤與再行銷（可選擇退出）。\n\n"
            "五、資料權利行使\n"
            "依據個人資料保護法第 3 條，您有權要求查閱、製給複本、"
            "補充或更正、停止蒐集處理利用、或刪除您的個人資料。"
            "請寄信至 privacy@example.com 或聯繫客服提出申請。"
            "帳號刪除後 30 天內所有個人資料將完全清除。依稅務法規"
            "必須保留的交易紀錄（電子發票相關）保留 5 年。"
        ),
    },
    {
        "filename": "terms_of_service.txt",
        "content": (
            "服務條款\n\n"
            "一、帳號使用規範\n"
            "每位自然人限註冊一個帳號。嚴禁以下行為：使用虛假身分或"
            "他人資料註冊帳號、以多帳號重複領取新會員優惠券或推薦"
            "獎勵、使用自動化程式（bot）進行搶購或大量下單、將帳號"
            "出借或轉讓給他人使用。違反帳號使用規範者，本公司有權"
            "永久停權處分並取消所有已累積的回饋金，情節嚴重者將依法"
            "追究法律責任。帳號持有人對其帳號內的所有活動和交易負"
            "完全責任，請妥善保管帳號密碼切勿與他人共用。\n\n"
            "二、訂購規範與價格政策\n"
            "商品售價以消費者結帳當下購物車頁面顯示的金額為準。如因"
            "系統程式錯誤或人為操作失誤導致商品價格顯示異常偏低"
            "（例如原價 NT$1,299 顯示為 NT$12.99），本公司保留通知"
            "消費者後取消該訂單的權利，並將全額退款。每位會員同一"
            "商品每筆訂單限購 5 件，特殊促銷活動另有限購規定時以"
            "活動頁面公告為準。折扣碼和優惠券使用規則依各活動條款"
            "而定，除非活動頁面特別說明可以併用，否則不同優惠不可"
            "合併使用。\n\n"
            "三、智慧財產權聲明\n"
            "本網站所有內容包含但不限於：商品攝影照片和影片、商品"
            "描述文案和規格表、品牌名稱和 Logo 設計、網站視覺設計"
            "和前後端程式碼，均為本公司或其授權方的智慧財產。未經"
            "書面授權，任何個人或組織不得以任何形式複製、截圖、轉載"
            "修改或用於商業用途。消費者在本平台發表的商品評論和心得"
            "文章，著作權歸撰寫者本人所有，但撰寫者同意授權本公司"
            "在平台上展示、行銷引用和合理使用。\n\n"
            "四、服務中斷與免責聲明\n"
            "因不可抗力事件（包含但不限於：地震、颱風、水災等天災、"
            "疫情、戰爭、政府法令變更、電信或網路大規模中斷、電力"
            "供應異常等）導致的服務中斷或交易延遲，本公司不承擔損害"
            "賠償責任，但承諾在最短時間內恢復服務並妥善處理受影響"
            "的訂單。商品頁面的使用建議和效果描述僅供一般參考。\n\n"
            "五、爭議處理與管轄法院\n"
            "如發生消費爭議，雙方同意優先透過本公司客服部門友善協商"
            "處理。消費者也可向各縣市政府消費者服務中心或消費者保護"
            "團體尋求協助和調解。如經上述管道仍無法達成共識，依中華"
            "民國法律，以臺灣臺北地方法院為第一審管轄法院。\n\n"
            "六、條款修訂\n"
            "本公司保留隨時修訂服務條款的權利。重大修訂會於網站公告"
            "並以 Email 通知會員。修訂後繼續使用本服務視為同意新條款。"
        ),
    },
]


def build_seed_data() -> dict:
    """Build all seed data structures (no DB required)."""
    tenant = Tenant(
        id=TenantId(value="demo-tenant-001"),
        name="Demo 電商平台",
        plan="professional",
    )

    kb_products = KnowledgeBase(
        id=KnowledgeBaseId(value="kb-products-001"),
        tenant_id=tenant.id.value,
        name="商品資訊",
        description="所有商品的詳細規格、價格與特色說明",
    )

    kb_faq = KnowledgeBase(
        id=KnowledgeBaseId(value="kb-faq-001"),
        tenant_id=tenant.id.value,
        name="FAQ 常見問題",
        description="運費、付款、會員、訂單追蹤等常見問題",
    )

    kb_policy = KnowledgeBase(
        id=KnowledgeBaseId(value="kb-policy-001"),
        tenant_id=tenant.id.value,
        name="退換貨與政策",
        description="退換貨政策、保固政策、隱私權政策、服務條款",
    )

    documents = []

    for doc_data in PRODUCT_DOCS:
        documents.append(
            Document(
                id=DocumentId(),
                kb_id=kb_products.id.value,
                tenant_id=tenant.id.value,
                filename=doc_data["filename"],
                content_type="text/plain",
                content=doc_data["content"],
                status="pending",
            )
        )

    for doc_data in FAQ_DOCS:
        documents.append(
            Document(
                id=DocumentId(),
                kb_id=kb_faq.id.value,
                tenant_id=tenant.id.value,
                filename=doc_data["filename"],
                content_type="text/plain",
                content=doc_data["content"],
                status="pending",
            )
        )

    for doc_data in POLICY_DOCS:
        documents.append(
            Document(
                id=DocumentId(),
                kb_id=kb_policy.id.value,
                tenant_id=tenant.id.value,
                filename=doc_data["filename"],
                content_type="text/plain",
                content=doc_data["content"],
                status="pending",
            )
        )

    return {
        "tenant": tenant,
        "knowledge_bases": [kb_products, kb_faq, kb_policy],
        "documents": documents,
    }


async def seed_with_vectorization() -> None:
    """Seed data and run vectorization using FakeEmbeddingService."""
    from src.domain.knowledge.services import TextSplitterService
    from src.infrastructure.embedding.fake_embedding_service import (
        FakeEmbeddingService,
    )
    from src.infrastructure.text_splitter.recursive_text_splitter_service import (
        RecursiveTextSplitterService,
    )

    data = build_seed_data()
    splitter: TextSplitterService = RecursiveTextSplitterService(
        chunk_size=500, chunk_overlap=100
    )
    embedder = FakeEmbeddingService(vector_size=1536)

    total_chunks = 0
    print(f"Tenant: {data['tenant'].name}")
    print(f"Knowledge Bases: {len(data['knowledge_bases'])}")
    print(f"Documents: {len(data['documents'])}")
    print()

    for doc in data["documents"]:
        chunks = splitter.split(
            doc.content, doc.id.value, doc.tenant_id
        )
        texts = [c.content for c in chunks]
        vectors = await embedder.embed_texts(texts)
        total_chunks += len(chunks)
        print(
            f"  [{doc.filename}] "
            f"{len(chunks)} chunks, "
            f"vector dim={len(vectors[0]) if vectors else 0}"
        )

    print(f"\nTotal chunks: {total_chunks}")
    print("Seed data ready (in-memory only, no DB write).")


if __name__ == "__main__":
    asyncio.run(seed_with_vectorization())
